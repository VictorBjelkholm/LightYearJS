var VAction;VAction=function(){function t(t,e){var n=this;this.el=t,this.fullName=e;var o=this.fullName.split(":");if(3!==o.length)throw new Error("You need type:namespace:action to create an action");this.type=o[0],this.namespace=o[1],this.action=o[2];var i=this.action.match(/\((.*)\)/i);null!==i&&(this.action=this.action.substr(0,i.index),this.argument=i[1]),null!==this.el&&this.el.addEventListener(this.type,function(t){VMediator.publish(n.namespace+":"+n.action,t)},!1)}return t.prototype.type=null,t.prototype.namespace=null,t.prototype.action=null,t.prototype.fullName=null,t.prototype.el=null,t}(),root="undefined"!=typeof exports&&null!==exports?exports:window,root.VAction=VAction;
var VActionRoot;VActionRoot=function(){function t(t){var o,n,i,s,e,c;this.document=t;var r=this;for(this.actions=[],this.actionsEls=this.document.querySelectorAll("[action]"),c=this.actionsEls,s=0,e=c.length;e>s;s++)if(o=c[s],n=o.getAttribute("action"),-1!==n.indexOf(","))for(var a=n.split(","),l=0;l<a.length;l++){n=a[l];var i=new VAction(o,n);r.actions.push(i)}else i=new VAction(o,n),this.actions.push(i)}return t.actionsEls=[],t.actions=[],t.document,t}(),root="undefined"!=typeof exports&&null!==exports?exports:window,root.VActionRoot=VActionRoot;
var VMediator;VMediator=function(){function n(){}return n.channels={},n.install=function(e){e.subscribe=n.subscribe,e.publish=n.publish},n.subscribe=function(e,t){n.channels[e]||(n.channels[e]=[]),n.channels[e].push({context:n,callback:t})},n.publish=function(e){if(!n.channels[e])throw new Error("No channel like that");for(var t=(n.channels[e],Array.prototype.slice.call(arguments,1)),a=0,l=n.channels[e].length;l>a;a++){var o=n.channels[e][a];o.callback.apply(o.context,t)}},n}(),root="undefined"!=typeof exports&&null!==exports?exports:window,root.VMediator=VMediator;