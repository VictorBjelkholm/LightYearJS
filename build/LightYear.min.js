var VAction;VAction=function(){function t(t,e){var n=this;this.el=t,this.fullName=e;var o=this.fullName.split(":");if(3!==o.length)throw new Error("You need type:namespace:action to create an action");this.type=o[0],this.namespace=o[1],this.action=o[2],null!==this.el&&this.el.addEventListener(this.type,function(t){VMediator.publish(n.namespace+":"+n.action,t)},!1)}return t.prototype.type=null,t.prototype.namespace=null,t.prototype.action=null,t.prototype.fullName=null,t.prototype.el=null,t}(),root="undefined"!=typeof exports&&null!==exports?exports:window,root.VAction=VAction;
var VActionRoot;VActionRoot=function(){function t(t){var o,n,i,s,c,e;this.document=t;var a=this;for(this.actions=[],this.actionsEls=this.document.querySelectorAll("[action]"),e=this.actionsEls,s=0,c=e.length;c>s;s++)if(o=e[s],n=o.getAttribute("action"),-1!==n.indexOf(",")){manyActions=n.split(",");for(var r=0;r<manyActions.length;r++){n=manyActions[r];var i=new VAction(o,n);a.actions.push(i)}}else i=new VAction(o,n),this.actions.push(i)}return t.actionsEls=[],t.actions=[],t.document,t}(),root="undefined"!=typeof exports&&null!==exports?exports:window,root.VActionRoot=VActionRoot;
var VMediator;VMediator=function(){function n(){}return n.channels={},n.install=function(e){e.subscribe=n.subscribe,e.publish=n.publish},n.subscribe=function(e,a){n.channels[e]||(n.channels[e]=[]),n.channels[e].push({context:n,callback:a})},n.publish=function(e){if(!n.channels[e])throw new Error("No channel like that");channel=n.channels[e],args=Array.prototype.slice.call(arguments,1);for(var a=0,r=n.channels[e].length;r>a;a++){var t=n.channels[e][a];t.callback.apply(t.context,args)}},n}(),root="undefined"!=typeof exports&&null!==exports?exports:window,root.VMediator=VMediator;